# [■■■■______] PROGRESS BAR  [■■■■■■■■■_] 
### Для lcd1602 + i2c 
Для примера взял показания с фоторезистора.
Схема простая, с резистором и сигналом на аналоговый пин `А0`. 

Все примечания написаны в комментариях.


```sh
#include <Wire.h> 
#include <LiquidCrystal_I2C.h>
LiquidCrystal_I2C lcd(0x3F, 16, 2); // индивидуальные настройки

int ldr = 0; // pin A0(аналоговый!!!)
double l = 1; // значение люкс(lux)
int prgs = 0; // процентов прогресса
int prec = 0; // десятки процентов прогресса
int pb[10]; // прогресс бар

void setup() {
  Wire.begin();
  lcd.begin();
}

void loop() {
    lcd.setCursor(6, 0); // str 0, box 7
    l=analogRead(ldr); // lux
    lcd.print(int(l)); // Выводим численное значение 
 
    prgs=l/1024*100; //процент освещения
    prec=prgs/10; //десятки процентов освещения (они int)
     for(int i =0; i<10; i++){ // конвертация переменной prec в массив pb
      if(prec==0){ // стоит в начале, что бы при prec=0 не выполнялось действие.
         break;
        } 
      prec=prec-1; // перемещаем одну единичку из prec в массив pb, пока prec!=0
      pb[i]=1;
     }
 
    lcd.setCursor(2, 1);  // str 1 box 4
    // lcd.print("|"); // МОЖНО УБРАТЬ
    for(int i =0; i<10; i++){ // замена единиц и нулей на символы
     if(pb[i]==1){
        lcd.print("x"); // i2c модуль не любит такие символы, как ■. 
        //  Для progress bar`a лучше использовать одинаковые по ширине символы, хоть на lcd это роли не играет. Во имя эстетичности, естественно.. 
     }
      else{
          lcd.print("o"); //вместо символа можно оставить пробел. Но нужно добавить в начале и конце границы шкалы. Я это сделал за вас
      }
    }
    // lcd.print("|"); // МОЖНО УБРАТЬ
    for(int i=0; i<10; i++){ // обнуление массива pb
      pb[i]=0;
    }
delay(50); // Частота обновления. Меньше не имеет смысла.
}
